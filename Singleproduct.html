<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="singleproduct"></div>
    <script>
        window.onload=function()
        {
            var product=JSON.parse(localStorage.getItem("current-product"));
            var divToAppendProduct=document.getElementById("singleproduct")

            var structure= `<div id="singlePro">
                <img src=${productsFromLs[i].proImage}>
                    <h3>${productsFromLs[i].proName}</h3>
                    <p>${productsFromLs[i].proPrice}</p>
                    <button onclick()='addcart(${JSON.stringify(product)})'>Add to cart</button>    
                    </div>`
                    console.log(structure,"here");
                    divToAppendProduct.innerHTML=structure;
        }
        function addcart(product)
        {
            var currretUser=JSON.parse(localStorage.getItem("currentUser"));
            var userData=JSON.parse(localStorage.getItem("userData"));
            var flagForUser=false;
            for(var i=0;i<userData.length;i++);
            {
                if(currretUser.email===userData[i].email)
                {
                    if(userData[i].cartproducts==undefined)
                    {
                        userData[i].cartproducts=[product];

                    }else
                    {
                        userData[i].cartproducts.push(product)

                    }
                    alert("product added to cart")
                    window.location.href='./cart.html';
                }
            }
            localStorage.setItem("userData",JSON.stringify(userData));
        }

    </script>



</body>
</html>